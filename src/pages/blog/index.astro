---
import Layout from '@/layouts/Layout.astro';
import { BlogIndex } from '@/components/blog/blog-index';
import { getCollection } from 'astro:content';

const posts = await getCollection('blog');
const formattedPosts = posts.map(post => ({
  slug: post.slug,
  title: post.data.title,
  description: post.data.description,
  publishedAt: post.data.publishedAt,
  tags: post.data.tags,
  readingMinutes: post.data.readingMinutes
}));
---

<Layout title="Blog | LSP Client Ecosystem">
  <BlogIndex client:load posts={formattedPosts} />
</Layout>
